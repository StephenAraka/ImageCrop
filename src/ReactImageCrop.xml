<?xml version="1.0" encoding="utf-8" ?>
<widget id="com.mendix.widget.custom.Imagecrop.ImageCrop" needsEntityContext="true" offlineCapable="true" xmlns="http://www.mendix.com/widget/1.0/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mendix.com/widget/1.0/ ../xsd/widget.xsd">
    <name>ImageCrop</name>
    <description>Sample description</description>
    <icon/>
     <properties>
       <!--Data source-->
        <property key="dataSource" type="enumeration" defaultValue="static">
            <caption>Data source</caption>
            <category>Data source</category>
            <description>Where the images should be retrieved from</description>
            <enumerationValues>
                <enumerationValue key="static">Database</enumerationValue>
                <enumerationValue key="xpath">X-Path</enumerationValue>
                <enumerationValue key="microflow">Microflow</enumerationValue>
            </enumerationValues>
        </property>
        <property key="imagesEntity" type="entity" required="false">
            <caption>Images entity</caption>
            <category>Data source</category>
            <description>The entity from which the images will be retrieved. Should extend System.Image or provide a url attribute.</description>
        </property>
        <property key="entityConstraint" type="entityConstraint" entityProperty="imagesEntity" required="false">
            <caption>XPath</caption>
            <category>Data source</category>
            <description>Constraint on the images entity</description>
        </property>
        <property key="dataSourceMicroflow" type="microflow" required="false">
            <caption>Microflow</caption>
            <category>Data source</category>
            <description>Returns the images to display</description>
            <returnType type="Object" entityProperty="imagesEntity" isList="true"/>
        </property>
        <property key="urlAttribute" type="attribute" required="false" entityProperty="imagesEntity">
            <caption>URL attribute</caption>
            <category>Data source</category>
            <description>The attribute holding the image urls. Overwrites url generation from System.Image</description>
            <attributeTypes>
                <attributeType name="String"/>
            </attributeTypes>
        </property>
        <!--Appearance-->
        <property key="editable" type="enumeration" defaultValue="default">
            <caption>Editable</caption>
            <category>Appearance</category>
            <description/>
            <enumerationValues>
                <enumerationValue key="default">Default</enumerationValue>
                <enumerationValue key="never">Never</enumerationValue>
            </enumerationValues>
        </property>
        <property key="minWidth" type="integer" defaultValue="100">
            <caption>Minimum width</caption>
            <category>Appearance</category>
            <description></description>
        </property>
        <property key="minHeight" type="integer" defaultValue="100">
            <caption>Minimum height</caption>
            <category>Appearance</category>
            <description></description>
        </property>
        <property key="maxWidth" type="integer" defaultValue="700">
            <caption>Maximum width</caption>
            <category>Appearance</category>
            <description></description>
        </property>
        <property key="maxHeight" type="integer" defaultValue="700">
            <caption>Maximum height</caption>
            <category>Appearance</category>
            <description></description>
        </property>
        <property key="keepSelection" type="enumeration" defaultValue="true">
            <caption>Keep Selection</caption>
            <category>Appearance</category>
            <description>Choose whether to keep focus if user clicks outside the selection area</description>
            <enumerationValues>
                <enumerationValue key="true">Yes</enumerationValue>
                <enumerationValue key="false">No</enumerationValue>
            </enumerationValues>
        </property>
        <!--Events-->
        <property key="onClickOption" type="enumeration" defaultValue="doNothing">
            <caption>On click</caption>
            <category>Events</category>
            <description/>
            <enumerationValues>
                <enumerationValue key="doNothing">Do nothing</enumerationValue>
                <enumerationValue key="callMicroflow">Call microflow</enumerationValue>
                <enumerationValue key="callNanoflow">Call nanoflow</enumerationValue>
                <enumerationValue key="showPage">Show page</enumerationValue>
            </enumerationValues>
        </property>
        <property key="onClickMicroflow" type="microflow" required="false">
            <caption>On click microflow</caption>
            <category>Events</category>
            <description>The microflow to call when an image is clicked</description>
            <returnType type="Void"/>
        </property>
        <property key="onClickForm" type="form" required="false">
            <caption>On click page</caption>
            <category>Events</category>
            <description>The page to open when an image is clicked</description>
        </property>
        <property key="openPageAs" type="enumeration" defaultValue="content">
                    <caption>Open page as</caption>
                    <category>Events</category>
                    <description/>
                    <enumerationValues>
                        <enumerationValue key="content">Full page</enumerationValue>
                        <enumerationValue key="popup">Popup</enumerationValue>
                        <enumerationValue key="modal">Blocking popup</enumerationValue>
                    </enumerationValues>
        </property>
    </properties>
</widget>

